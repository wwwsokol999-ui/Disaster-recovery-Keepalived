# üß™ Disaster Recovery Lab (HSRP + Keepalived)

–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Å–µ—Ç–∏ –∏ –≤–µ–±-—Å–µ—Ä–≤–∏—Å–∞.

---

# üéØ –¶–µ–ª—å

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –Ω–∞ –¥–≤—É—Ö —É—Ä–æ–≤–Ω—è—Ö:

### –ó–∞–¥–∞–Ω–∏–µ 1 (Cisco)
- HSRP (Active/Standby)
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —à–ª—é–∑–∞
- –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ—Ç–µ—Ä–∏ —Å–≤—è–∑–∏ PC ‚Üî Server

### –ó–∞–¥–∞–Ω–∏–µ 2 (Linux)
- Keepalived + VRRP
- –ø–ª–∞–≤–∞—é—â–∏–π Virtual IP
- –ø–µ—Ä–µ–Ω–æ—Å —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ nginx/—Å–µ—Ä–≤–µ—Ä–∞

---

---

# üîπ –ó–∞–¥–∞–Ω–∏–µ 1 ‚Äî HSRP (Cisco Packet Tracer)

## –¢–æ–ø–æ–ª–æ–≥–∏—è

- 2 Router (HSRP)
- 2 Switch
- PC + Server
- 2 –ø–æ–¥—Å–µ—Ç–∏

| –°–µ–≥–º–µ–Ω—Ç | VIP |
|--------|---------|
| LAN PC | 192.168.0.1 |
| LAN Server | 192.168.1.1 |

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
 ### Router1 (Active)

```bash
interface g0/1
 standby version 2
 standby 1 ip 192.168.1.1
 standby 1 priority 110
 standby 1 preempt
```
# üîπ –ó–∞–¥–∞–Ω–∏–µ 2

---

## üéØ –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –≤–µ–±-—Å–µ—Ä–≤–∏—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ **VRRP (Keepalived)** –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

- —Ä–∞–±–æ—Ç—É Active/Backup
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ MASTER
- –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞ –ø–æ –æ–¥–Ω–æ–º—É Virtual IP
- –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ—Å—Ç–æ—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

---

## üñß –°—Ö–µ–º–∞ —Å–µ—Ç–∏

### –¢–æ–ø–æ–ª–æ–≥–∏—è

- 2 Linux VM (Ubuntu)
- nginx –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- Keepalived (VRRP)
- 1 Virtual IP

---

### –ü–æ–¥—Å–µ—Ç–∏

| –£–∑–µ–ª | IP |
|-------|----------------|
| Server1 (MASTER) | 192.168.238.130 |
| Server2 (BACKUP) | 192.168.238.131 |
| Virtual IP (VIP) | 192.168.238.200 |

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û

–ù–∞ **–æ–±–µ–∏—Ö –í–ú**:

```bash
sudo apt update
sudo apt install nginx keepalived curl netcat -y
sudo systemctl enable nginx
sudo systemctl start nginx

